<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>注册界面</title>
    <link rel="stylesheet" href="lib/css/ionic.min.css">
</head>
<body background="images/jiemian.jpg">
<ion-view>
    <ion-content>
        <div class="list" style="position: absolute;margin-top: 200px;margin-left: 40px">
            <label class="item item-input">
                <span class="input-label">账号 <font color="red">*</font></span>
                <input type="text" id="uName" onblur="return checkname()"><div><span id="namets" style=" letter-spacing: 1px "></span></div>
            </label>
            <label class="item item-input">
                <span class="input-label">密码 <font color="red">*</font></span>
                <input type="password" id="uPass" onblur="return checkpass()">
                <span id="passts"> </span>
            </label>
            <label class="item item-input">
                <span class="input-label">邮箱 <font color="red">*</font></span>
                <input type="text" id="uEmail" onblur="return checkemail()"><span id="emailts"> </span>
            </label>
        </div>
        <div style="position: absolute;margin-top: 350px;margin-left: 120px"> <button class="button icon-left button-outline  ion-ios-locked-outline button-positive" onclick="register()">点击注册</button></div>
    </ion-content>
</ion-view>

</body>
</html>
<script src="js/jquery.js"></script>
<script>
    //账号验证
    function checkname() {
        var name = document.getElementById("uName").value;
        var ts = document.getElementById("namets");
        if (name.length < 3 || name.length > 15) {
            ts.innerHTML = "用户名长度须在3-15之间!";
            ts.style.color = "red";
            return false;
        }else{
            return true;
        }


    }
    //密码验证
    function checkpass(){
        var userPass = $("#uPass").val();

        var pts = document.getElementById("passts");

        if(userPass.length<6 || userPass.length >15)
        {
            pts.innerHTML ="密码长度须在6-15之间!";
            pts.style.color="red";
            return false;
        }else{
            pts.innerHTML ="密码可以使用!";
            pts.style.color="green";
            return true;
        }


    }
    //邮箱验证
    function checkemail(){
        var userEmail = $("#uEmail").val();
        var ets = document.getElementById("emailts");
        if(!isEmail(userEmail)){
            ets.innerHTML ="邮箱格式不正确!";
            ets.style.color="red";
            return false;
        }else{
            ets.innerHTML ="邮箱可以使用!";
            ets.style.color="green";
            return true;
        }

    }
    function isEmail(str){
        var reg = /[a-z0-9-]{1,30}@[a-z0-9-]{1,65}.[a-z]{3}/;
        return reg.test(str);
    }
    //直接点击注册按钮的情况
    function register() {
//        if (!checkname()) {
//            return false;
//        } else if (!checkpass()) {
//            return false;
//        } else if (!checkemail()) {
//            return false;
//        }
//        return true;
        if(checkname()==true&checkpass()==true&checkemail()==true){
            location.href = "http://localhost:63342/project/dist/index.html?_ijt=2knha6o9rvi1blhhdhdl9mnrpu#/login";//location.href实现客户端页面的跳转
        }

    }
</script>